[gd_scene load_steps=22 format=3 uid="uid://cil2vjwrmwraf"]

[ext_resource type="PackedScene" uid="uid://dvdsmpactuuv0" path="res://Character/character_body.tscn" id="1_qc4db"]
[ext_resource type="Script" uid="uid://cb1fev18bvi6e" path="res://game.gd" id="1_ys1qc"]
[ext_resource type="Shader" uid="uid://dgxelk4fpflp1" path="res://Shaders/checkerboard.gdshader" id="2_ys1qc"]
[ext_resource type="AudioStream" uid="uid://bre3388at1ge7" path="res://Sounds/eaykjbgkbdf125.mp3" id="5_35xla"]
[ext_resource type="AudioStream" uid="uid://b3qq2sgevoqgk" path="res://Sounds/city_ambience.mp3" id="6_i3aeo"]

[sub_resource type="Environment" id="Environment_i3aeo"]
volumetric_fog_enabled = true
volumetric_fog_density = 0.028
volumetric_fog_albedo = Color(1, 0.6039216, 1, 1)
volumetric_fog_length = 295.22

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_8uh7m"]
auto_exposure_enabled = true

[sub_resource type="Compositor" id="Compositor_6uqi0"]

[sub_resource type="PlaneMesh" id="PlaneMesh_mf4mk"]
size = Vector2(60, 60)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_6uqi0"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_ppyta"]
data = PackedVector3Array(30, 0, 30, -30, 0, 30, 30, 0, -30, -30, 0, 30, -30, 0, -30, 30, 0, -30)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_8uh7m"]
data = PackedVector3Array(30, 0, 30, -30, 0, 30, 30, 0, -30, -30, 0, 30, -30, 0, -30, 30, 0, -30)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_8uh7m"]
render_priority = 0
shader = ExtResource("2_ys1qc")
shader_parameter/color1 = Color(0.592, 0.475, 0.82, 1)
shader_parameter/color2 = Color(0.11, 0.082, 0.161, 1)
shader_parameter/size = 32.0

[sub_resource type="BoxMesh" id="BoxMesh_6uqi0"]
material = SubResource("ShaderMaterial_8uh7m")
size = Vector3(1, 2, 1)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_6uqi0"]
data = PackedVector3Array(-0.5, 1, 0.5, 0.5, 1, 0.5, -0.5, -1, 0.5, 0.5, 1, 0.5, 0.5, -1, 0.5, -0.5, -1, 0.5, 0.5, 1, -0.5, -0.5, 1, -0.5, 0.5, -1, -0.5, -0.5, 1, -0.5, -0.5, -1, -0.5, 0.5, -1, -0.5, 0.5, 1, 0.5, 0.5, 1, -0.5, 0.5, -1, 0.5, 0.5, 1, -0.5, 0.5, -1, -0.5, 0.5, -1, 0.5, -0.5, 1, -0.5, -0.5, 1, 0.5, -0.5, -1, -0.5, -0.5, 1, 0.5, -0.5, -1, 0.5, -0.5, -1, -0.5, 0.5, 1, 0.5, -0.5, 1, 0.5, 0.5, 1, -0.5, -0.5, 1, 0.5, -0.5, 1, -0.5, 0.5, 1, -0.5, -0.5, -1, 0.5, 0.5, -1, 0.5, -0.5, -1, -0.5, 0.5, -1, 0.5, 0.5, -1, -0.5, -0.5, -1, -0.5)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ppyta"]
render_priority = 0
shader = ExtResource("2_ys1qc")
shader_parameter/color1 = Color(0.592, 0.475, 0.82, 1)
shader_parameter/color2 = Color(0.11, 0.082, 0.161, 1)
shader_parameter/size = 32.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_g14j6"]
render_priority = 0
shader = ExtResource("2_ys1qc")
shader_parameter/color1 = Color(0.592, 0.475, 0.82, 1)
shader_parameter/color2 = Color(0.11, 0.082, 0.161, 1)
shader_parameter/size = 32.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_vbegm"]
render_priority = 0
shader = ExtResource("2_ys1qc")
shader_parameter/color1 = Color(0.592, 0.475, 0.82, 1)
shader_parameter/color2 = Color(0.11, 0.082, 0.161, 1)
shader_parameter/size = 32.0

[sub_resource type="Curve3D" id="Curve3D_8uh7m"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 9.99921, -3.993, 0, 2.91388, -3.97176, 0, -2.91388, 3.97176, 0, -0.000764847, -0.000545457, 0),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ykrsh"]
render_priority = 0
shader = ExtResource("2_ys1qc")
shader_parameter/color1 = Color(0.592, 0.475, 0.82, 1)
shader_parameter/color2 = Color(0.11, 0.082, 0.161, 1)
shader_parameter/size = 32.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ehkex"]
render_priority = 0
shader = ExtResource("2_ys1qc")
shader_parameter/color1 = Color(0.592, 0.475, 0.82, 1)
shader_parameter/color2 = Color(0.11, 0.082, 0.161, 1)
shader_parameter/size = 32.0

[node name="Test" type="Node3D"]
process_mode = 3
script = ExtResource("1_ys1qc")

[node name="CharacterBody3D" parent="." instance=ExtResource("1_qc4db")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -28.432564, 1.8678894, 34.187057)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_i3aeo")
camera_attributes = SubResource("CameraAttributesPractical_8uh7m")
compositor = SubResource("Compositor_6uqi0")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="WorldEnvironment"]
transform = Transform3D(0.73981, 0.304215, 0.600112, -0.0820551, -0.844487, 0.529253, 0.667794, -0.440789, -0.599798, 0, 8.98944, 0)
shadow_enabled = true

[node name="WanPrototype" type="StaticBody3D" parent="."]

[node name="MeshInstance3D" type="MeshInstance3D" parent="WanPrototype"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 0.58151865, -0.0013593435, 0, -4.2347956)
mesh = SubResource("PlaneMesh_mf4mk")
skeleton = NodePath("../..")
surface_material_override/0 = SubResource("ShaderMaterial_6uqi0")

[node name="StaticBody3D" type="StaticBody3D" parent="WanPrototype/MeshInstance3D"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="WanPrototype/MeshInstance3D/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_ppyta")

[node name="CollisionShape3D" type="CollisionShape3D" parent="WanPrototype"]
shape = SubResource("ConcavePolygonShape3D_8uh7m")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="WanPrototype"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.17164, 1, 3.19005)
mesh = SubResource("BoxMesh_6uqi0")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="WanPrototype"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.17164, 1, 3.19005)
shape = SubResource("ConcavePolygonShape3D_6uqi0")

[node name="CSGBox3D" type="CSGBox3D" parent="WanPrototype"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.74941, 2.03836, -10.2143)
use_collision = true
size = Vector3(24.9456, 4.3222, 1)
material = SubResource("ShaderMaterial_ppyta")

[node name="CSGBox3D" type="CSGBox3D" parent="WanPrototype/CSGBox3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.94366, 0, 4.26697)
use_collision = true
size = Vector3(13.0582, 4.3222, 1)
material = SubResource("ShaderMaterial_ppyta")

[node name="CSGBox3D2" type="CSGBox3D" parent="WanPrototype"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.65776, 1, -8.08395)
use_collision = true
size = Vector3(1, 2, 3.30078)
material = SubResource("ShaderMaterial_g14j6")

[node name="CSGBox3D2" type="CSGBox3D" parent="WanPrototype/CSGBox3D2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.13865, -8.08395)
use_collision = true
size = Vector3(1, 2, 3.30078)
material = SubResource("ShaderMaterial_g14j6")

[node name="CSGBox3D3" type="CSGBox3D" parent="WanPrototype/CSGBox3D2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.13865, -8.08395)
use_collision = true
size = Vector3(1, 2, 3.30078)
material = SubResource("ShaderMaterial_g14j6")

[node name="CSGBox3D3" type="CSGBox3D" parent="WanPrototype"]
transform = Transform3D(1, 0, 0, 0, 0.853969, -0.520324, 0, 0.520324, 0.853969, 13.4686, 4.41407, -7.36587)
visible = false
use_collision = true
size = Vector3(8.23914, 0.334961, 17.8457)
material = SubResource("ShaderMaterial_vbegm")

[node name="CSGBox3D3" type="CSGBox3D" parent="WanPrototype/CSGBox3D3"]
transform = Transform3D(1, 0, 0, 0, 0.99978006, -0.02101186, 0, 0.02101186, 0.99978006, -149.68991, 27.156439, 42.707516)
use_collision = true
size = Vector3(8.23914, 0.334961, 17.8457)
material = SubResource("ShaderMaterial_vbegm")

[node name="Path3D" type="Path3D" parent="WanPrototype"]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 29.9926, 0, 0)
curve = SubResource("Curve3D_8uh7m")

[node name="CSGPolygon3D" type="CSGPolygon3D" parent="WanPrototype/Path3D"]
transform = Transform3D(-0.99868, 0, -0.0513598, 0, 1, 0, 0.0513598, 0, -0.99868, -10.3877, 3.7814, -8.0008)
use_collision = true
polygon = PackedVector2Array(0, 0, 0.5, 1.25, 1.6, 0)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 0.33
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
material = SubResource("ShaderMaterial_ykrsh")

[node name="CSGBox3D4" type="CSGBox3D" parent="WanPrototype"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.566, 0.1, -0.65225)
use_collision = true
size = Vector3(4.782, 0.194, 0.552)
material = SubResource("ShaderMaterial_ehkex")

[node name="CSGBox3D5" type="CSGBox3D" parent="WanPrototype"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.566, 0.4, -1.14728)
use_collision = true
size = Vector3(4.782, 0.194, 0.552)
material = SubResource("ShaderMaterial_ehkex")

[node name="CSGBox3D6" type="CSGBox3D" parent="WanPrototype"]
transform = Transform3D(1, 0, 0, 0, 0.999974, 0.00715579, 0, -0.00715579, 0.999974, -3.566, 0.7, -1.65007)
use_collision = true
size = Vector3(4.782, 0.194, 0.552)
material = SubResource("ShaderMaterial_ehkex")

[node name="CSGBox3D7" type="CSGBox3D" parent="WanPrototype"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.566, 1, -2.161)
use_collision = true
size = Vector3(4.78174, 0.193848, 0.551739)
material = SubResource("ShaderMaterial_ehkex")

[node name="CSGBox3D8" type="CSGBox3D" parent="WanPrototype"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.566, 1.3, -3.927)
use_collision = true
size = Vector3(4.78174, 0.193848, 3.06354)
material = SubResource("ShaderMaterial_ehkex")

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("5_35xla")
autoplay = true

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("6_i3aeo")
volume_db = 10.0
autoplay = true
emission_angle_enabled = true
emission_angle_degrees = 24.1
